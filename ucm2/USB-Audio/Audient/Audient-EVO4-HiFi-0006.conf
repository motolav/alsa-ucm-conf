Include.pcm_split.File "/common/pcm/split.conf"

Macro [
	{
		SplitPCM {
			Name "evo4_stereo_out"
			Direction Playback
			Channels 2
			HWChannels 4
			HWChannelPos0 FL # Main Output L
			HWChannelPos1 FR # Main Output R
			HWChannelPos2 FL # Loopback L
			HWChannelPos3 FR # Loopback R
		}
	}
	{
		SplitPCM {
			Name "evo4_mono_in"
			Direction Capture
			Channels 1
			HWChannels 4
			HWChannelPos0 MONO # Mic 1 / Line 1 / Instrument
			HWChannelPos1 MONO # Mic 2 / Line 2
			HWChannelPos2 MONO # Loopback L
			HWChannelPos3 MONO # Loopback R
		}
	}
	{
		SplitPCM {
			Name "evo4_stereo_in"
			Direction Capture
			Channels 2
			HWChannels 4
			HWChannelPos0 FL # Mic 1 / Line 1 / Instrument
			HWChannelPos1 FR # Mic 2 / Line 2
			HWChannelPos2 FL # Loopback L
			HWChannelPos3 FR # Loopback R
		}
	}
]

SectionDevice."Speaker" {
	Comment "Headphone / Line Out"
	Value {
		PlaybackPriority 200
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_stereo_out"
		Direction Playback
		HWChannels 4
		Channels 2
		Channel0 0
		Channel1 1
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line1" {
	Comment "Loopback"
	Value {
		PlaybackPriority 100
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_stereo_out"
		Direction Playback
		HWChannels 4
		Channels 2
		Channel0 2
		Channel1 3
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line2" {
	Comment "Loopback"
	Value {
		PlaybackPriority 100
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_stereo_in"
		Direction Capture
		HWChannels 4
		Channels 2
		Channel0 2
		Channel1 3
		ChannelPos0 FL
		ChannelPos1 FR
	}
}

SectionDevice."Line3" {
	Comment "Loopback (L)"
	Value {
		CapturePriority 100
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_mono_in"
		Direction Capture
		HWChannels 4
		Channels 1
		Channel0 2
		ChannelPos0 MONO
	}
}

SectionDevice."Line4" {
	Comment "Loopback (R)"
	Value {
		CapturePriority 100
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_mono_in"
		Direction Capture
		HWChannels 4
		Channels 1
		Channel0 3
		ChannelPos0 MONO
	}
}

SectionDevice."Mic1" {
	Comment "Mic 1 / Line 1 / Instrument"
	Value {
		CapturePriority 200
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_mono_in"
		Direction Capture
		HWChannels 4
		Channels 1
		Channel0 0
		ChannelPos0 MONO
	}
}

SectionDevice."Mic2" {
	Comment "Mic 2 / Line 2"
	Value {
		CapturePriority 100
	}
	Macro.pcm_split.SplitPCMDevice {
		Name "evo4_mono_in"
		Direction Capture
		HWChannels 4
		Channels 1
		Channel0 1
		ChannelPos0 MONO
	}
}
